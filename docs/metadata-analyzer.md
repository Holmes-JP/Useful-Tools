# Metadata Analyzer

画像・動画・音声・文書ファイルに含まれるメタデータを解析し、プライバシー・セキュリティリスクを可視化するツール。

## 機能

### 対応ファイル形式

- **画像**: JPEG, PNG, WebP, HEIC/HEIF, TIFF, GIF
- **動画**: MP4, MOV, MKV, AVI, WebM
- **音声**: MP3, FLAC, WAV, AAC, OGG
- **文書**: PDF, Office (docx, xlsx, pptx), OpenDocument

### 主な機能

1. **Overview タブ**
   - ファイルの基本情報（サイズ、種別、メタデータ数）
   - プライバシー関連情報の概要
   - 位置情報、人名、会社名、メールアドレス、デバイス情報の検出

2. **Technical タブ**
   - 画像: 解像度、ビット深度、カラースペース、圧縮方式
   - 動画: コーデック、フレームレート、解像度
   - 音声: サンプルレート、チャンネル数、ビットレート
   - 文書: PDFバージョン、Producer/Creator、ページ数

3. **EXIF / Tags タブ**
   - EXIF、IPTC、XMP、ID3、PDF、Office プロパティの一覧表示
   - カテゴリ別フィルター
   - 検索機能
   - センシティブな項目のハイライト

4. **Location タブ**
   - GPS 緯度・経度（Decimal / DMS 形式）
   - 高度情報
   - Google Maps リンク生成
   - プライバシー警告表示

5. **Timeline タブ**
   - 撮影日時、作成日時、更新日時など
   - UTC とローカル時刻の両方を表示
   - ソースフィールドの明示

6. **Raw タブ**
   - 生メタデータの JSON 表示
   - コピー機能

### プライバシーリスク評価

- **高**: GPS位置情報、複数のセンシティブ項目を含む
- **中**: 人名・会社名・メールアドレスのいずれかを含む、または作成情報のみ
- **低**: センシティブな情報なし

## 技術仕様

- **最大ファイル数**: 20ファイル
- **最大ファイルサイズ**: 100MB
- **処理方式**: ブラウザ内でのみ解析（サーバー送信なし）

## 実装詳細

### 使用ライブラリ

- `jszip`: Office文書（ZIP形式）の解析

### メタデータ抽出

- **JPEG**: EXIF タグの簡易パース（APP1マーカー）
- **PNG**: tEXt チャンクの解析
- **MP3**: ID3v2 タグの解析
- **PDF**: Info辞書の抽出
- **Office**: docProps/core.xml の解析

### 主要コンポーネント

- `MetadataAnalyzerPanel.tsx`: メインUI
- `useMetadataAnalyzer.ts`: メタデータ解析ロジック
- `types/metadata.ts`: 型定義

## 使用方法

1. ファイルをドラッグ&ドロップ、または「ファイルを選択」ボタンでアップロード
2. ファイル一覧から解析したいファイルをクリック
3. 各タブで詳細情報を確認
4. 必要に応じてメタデータをコピー

## セキュリティ

- すべての処理はブラウザ内で完結
- ファイルはサーバーに送信されません
- プライバシーリスクを明示的に表示
